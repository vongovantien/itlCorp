<div class="company-infomation-page">
    <app-sub-header> </app-sub-header>
    <div class="m-content">

        <form-add-tariff [(tariff)]="tariff.setTariff">
            <div class="title">
                Detail/Edit OPS Tariff
            </div>
            <div class="form-actions m--align-right">
                <ng-container *ngIf="tariff.setTariff.permission.allowDelete">
                    <a [routerLink]="[]" [queryParams]="{action: 'copy'}"
                        class="btn btn-success  m-btn--icon m-btn--uppercase" title="Duplicate" role="button">
                        <i class="la la-copy"></i>
                        Duplicate
                    </a>
                </ng-container>
                <ng-container *ngIf="tariff.setTariff.permission.allowDelete">
                    <button type="button" class="btn btn-danger  m-btn--icon m-btn--uppercase" (click)="deleteTariff()"
                        [disabled]="tariff.setTariff.status">
                        <span>
                            <i class="la la-remove"></i>
                            <span>
                                Delete
                            </span>
                        </span>
                    </button>
                </ng-container>

            </div>
            <div class="row m--margin-top-10">
                <div class="col-md-6">
                    Create Date: {{tariff.setTariff.datetimeCreated | date:'dd/MM/yyyy HH:mm'}} by
                    <span class="text-success"> {{tariff.setTariff.userCreatedName}} </span>
                </div>
                <div class="col-md-6">
                    Modified Date: {{tariff.setTariff.datetimeModified | date:'dd/MM/yyyy HH:mm'}} by
                    <span class="text-success"> {{tariff.setTariff.userModifieddName}} </span>
                </div>
            </div>
        </form-add-tariff>

        <div class="m-portlet">
            <div class="m-portlet__body">
                <tabset>
                    <tab heading="Tariff">

                        <list-charge-tariff [(charges)]="tariff.setTariffDetails"
                            [permission]="tariff.setTariff.permission"></list-charge-tariff>

                        <div class="form-actions m--align-center">
                            <ng-container *ngIf="tariff.setTariff.permission.allowUpdate">
                                <button class="btn btn-brand  m-btn--icon m-btn--uppercase" (click)="updateTafiff()">
                                    <span>
                                        <i class="la la-save"></i>
                                        <span>
                                            {{ACTION === 'UPDATE' ? 'UPDATE': 'COPY'}}
                                        </span>
                                    </span>
                                </button>
                            </ng-container>
                            <button type="button" class="btn btn-cancel  m-btn--icon m-btn--uppercase" (click)="back()">
                                <span>
                                    <i class="la la-ban"></i>
                                    <span>
                                        cancel
                                    </span>
                                </span>
                            </button>
                        </div>
                    </tab>
                </tabset>
            </div>
        </div>
    </div>
</div>

<confirm-popup [body]="'Do you want to delete this tariff ?'" (onSubmit)="onDeleteTariff()"></confirm-popup>