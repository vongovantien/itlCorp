<div class="m-subheader">
    <div class="d-flex align-items-center">
        <div class="mr-auto">
            <app-breadcrumb></app-breadcrumb>
        </div>
        <div class="c-button-actions">
            <span *ngIf="isImported; else nojobno" class="m--font-bolder m--font-success">Imported</span>
            <ng-template #nojobno>
                <span class="m--font-bolder m--font-danger">Not Imported</span>
            </ng-template>
        </div>
    </div>
</div>
<div class="m-content h-100vh">
    <custom-clearance-form-detail></custom-clearance-form-detail>
    <div class="form-actions m--align-right" *ngIf="!!customDeclaration">

        <app-permission-button *ngIf="customDeclaration.jobNo === null" (onClick)="saveCustomClearance()" type="save">
        </app-permission-button>

        <app-permission-button *ngIf="customDeclaration.jobNo === null" title="save and convert" type="save"
            class="success" [dpToggle]="dropdownMenuClearance" mode="dropdown" position="topCenter">
        </app-permission-button>

        <app-default-button [buttonSetting]="cancelButtonSetting" *ngIf="customDeclaration.permission.allowUpdate"
            routerLink="/home/operation/custom-clearance">
        </app-default-button>
    </div>
</div>


<app-dropdown #dropdownMenuClearance>
    <a class="dropdown-item pointer" (click)="saveAndConvert(true)"
        *ngIf="(currentUser$ | async)?.officeType === 'Head'" title="Create clearance with replicate">
        <i class="la la-copy"></i>
        <span> Replicate</span>
    </a>

    <a class="dropdown-item pointer" (click)="saveAndConvert(false)" title="Create clearance with non-replicate">
        <i class="la la-save"></i>
        <span> Non-Replicate </span>
    </a>
</app-dropdown>