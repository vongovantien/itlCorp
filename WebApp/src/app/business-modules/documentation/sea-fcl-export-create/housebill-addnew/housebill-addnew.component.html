<form novalidate #addHouseBillForm="ngForm" (ngSubmit)="addHouseBillForm.form.valid" *ngIf="isDisplay"
    name="addHouseBillForm">
    <div class="modal-dialog c-modal-fullscreen" role="document">

        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Add new house bill of landing</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                    (click)="closeAddNewHBForm(addHouseBillForm)">
                    <span aria-hidden="true">&times;</span>
                </button>
                <div class="modal-actions c-button-actions">
                    <button type="button" class="btn m-btn--square m-btn--icon m-btn--uppercase">
                        <span>
                            <i class="la la-list-alt"></i>
                            <span>
                                Preview
                            </span>
                        </span>
                    </button>
                    <!-- <button type="button" class="btn btn-success m-btn--square m-btn--icon m-btn--uppercase"
                        data-toggle="modal" data-target="#import-housebill-detail-modal">
                        <span>
                            <i class="la la-search"></i>
                            <span>
                                import house bill detail
                            </span>
                        </span>
                    </button> -->
                    <button type="button" class="btn btn-success m-btn--square m-btn--icon m-btn--uppercase"
                        (click)="showImportHouseBill()">
                        <span>
                            <i class="la la-search"></i>
                            <span>
                                import house bill detail
                            </span>
                        </span>
                    </button>
                </div>
            </div>
            <div class="modal-body">
                <!--begin::Form-->
                <div class="m-form m-form--state">
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="form-group"
                                [ngClass]="{ 'm-form__group has-danger': addHouseBillForm.submitted && MasterBillOfLadingName.invalid }">
                                <label class="form-control-label" for="">
                                    Master bill of lading <span class="m--font-danger">(*)</span>
                                </label>
                                <input type="text" id="hb-mblno" [(ngModel)]="HouseBillWorking.mawb" required
                                    class="form-control m-input m-input--square" placeholder="Enter text"
                                    #MasterBillOfLadingName="ngModel" name="MasterBillOfLadingName">
                                <div class="form-control-feedback"
                                    *ngIf="addHouseBillForm.submitted && MasterBillOfLadingName.invalid">
                                    Master bill of lading is required !
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="form-group"
                                [ngClass]="{ 'm-form__group has-danger': addHouseBillForm.submitted && HouseBillWorking.customerId==null }">
                                <label class="form-control-label" for="">
                                    Customer (Payer) <span class="m--font-danger">(*)</span>
                                </label>
                                <div class="dropdown e--combogrid" #selectedCustomer>
                                    <input class="form-control m-input m-input--square dropdown-toggle" type="text"
                                        readonly data-toggle="dropdown" placeholder="combogrid"
                                        [value]="HouseBillWorking.customerName==null?'Please select customer':HouseBillWorking.customerName">
                                    <div class="dropdown-menu e--combogrid-content">
                                        <div class="tabel-wrapper table-fixed">
                                            <div class="table-head-fixed">
                                                <div class="table-filter-block">
                                                    <div class="search-field">
                                                        <input class="form-control m-input m-input--square" type="text"
                                                            placeholder="Search..."
                                                            (keyup)="getListCustomers($event.target.value)">
                                                        <i class="icon-search"></i>
                                                    </div>
                                                </div>
                                                <div class="table-header">
                                                    <table class="table table-hover">
                                                        <thead>
                                                            <tr>
                                                                <th class="col-xs-2">Partner ID</th>
                                                                <th class="col-xs-3">Name ABBR</th>
                                                                <th class="col-xs-5">Name EN</th>
                                                                <th class="col-xs-2">Tax Code</th>
                                                            </tr>
                                                        </thead>
                                                    </table>
                                                </div>
                                            </div>
                                            <div class="table-body-scroll">
                                                <table class="table table-hover">
                                                    <tbody>
                                                        <!-- HouseBillWorking.customerId=item.partnerID -->
                                                        <ng-container *ngFor="let item of listCustomers;let i = index">
                                                            <tr class="data-row" attr.data-id="{{i}}" (click)="
                                                                HouseBillWorking.customerId=item.id;
                                                                HouseBillWorking.customerName=item.partnerNameEn;
                                                                getCustomerSaleman(item.salePersonId);
                                                                extend_data.customer_nameEn=item.partnerNameEn;
                                                                extend_data.customer_nameVn=item.partnerNameVn;
                                                                HouseBillWorking.shipperId=item.id;
                                                                selectedShipper.value=item.partnerNameEn;
                                                                getShipperDescription(item)"
                                                                [ngClass]="{ 'data-selected': HouseBillWorking.customerId!==null && HouseBillWorking.customerId===item.id }">
                                                                <td class="col-xs-2">{{item.id}}</td>
                                                                <td class="col-xs-3">{{item.shortName}}</td>
                                                                <td class="col-xs-5">{{item.partnerNameEn}}</td>
                                                                <td class="col-xs-2">{{item.taxCode}}</td>
                                                            </tr>
                                                        </ng-container>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-control-feedback"
                                    *ngIf="addHouseBillForm.submitted && HouseBillWorking.customerId==null">
                                    Customer is required
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="form-group"
                                [ngClass]="{ 'm-form__group has-danger': addHouseBillForm.submitted && HouseBillWorking.saleManId==null }">
                                <label class="form-control-label" for="">
                                    Saleman in charge
                                </label>
                                <ng-select [allowClear]="true" [items]="listSaleMan" [disabled]="disabled"
                                    (data)="refreshValue($event)" *ngIf="listSaleMan.length>0" (selected)="
                                    HouseBillWorking.saleManId=$event.id;
                                    extend_data.saleman_nameEn=$event.text" (removed)="HouseBillWorking.saleManId=null"
                                    [active]="customerSaleman==null?'':customerSaleman"
                                    (typed)="getListSaleman($event.text)" placeholder="Select option">
                                </ng-select>
                                <div class="form-control-feedback"
                                    *ngIf="addHouseBillForm.submitted && HouseBillWorking.saleManId==null">
                                    Saleman is required
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="div-inside bg-secondary">
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': addHouseBillForm.submitted && HouseBillWorking.shipperId==null }">
                                    <label class="form-control-label" for="">
                                        Shipper <span class="m--font-danger">(*)</span>
                                    </label>
                                    <div class="dropdown e--combogrid" #selectedShipper>
                                        <input class="form-control m-input m-input--square dropdown-toggle" type="text"
                                            readonly data-toggle="dropdown" placeholder="combogrid"
                                            [value]="selectedShipper.value==null?'Please select shipper':selectedShipper.value">
                                        <div class="dropdown-menu e--combogrid-content">
                                            <div class="tabel-wrapper table-fixed">
                                                <div class="table-head-fixed">
                                                    <div class="table-filter-block">
                                                        <div class="search-field">
                                                            <input class="form-control m-input m-input--square"
                                                                type="text" placeholder="Search..."
                                                                (keyup)="getListShippers($event.target.value)">
                                                            <i class="icon-search"></i>
                                                        </div>
                                                    </div>
                                                    <div class="table-header">
                                                        <table class="table table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th class="col-xs-2">Partner ID</th>
                                                                    <th class="col-xs-3">Name ABBR</th>
                                                                    <th class="col-xs-5">Name EN</th>
                                                                    <th class="col-xs-5">Tax Code</th>
                                                                </tr>
                                                            </thead>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="table-body-scroll">
                                                    <table class="table table-hover">
                                                        <tbody>
                                                            <!-- HouseBillWorking.customerId=item.partnerID -->
                                                            <ng-container
                                                                *ngFor="let item of listShipper;let i = index">
                                                                <tr class="data-row" attr.data-id="{{i}}" (click)="
                                                                HouseBillWorking.shipperId=item.id;
                                                                selectedShipper.value=item.partnerNameEn;
                                                                getShipperDescription(item)"
                                                                    [ngClass]="{ 'data-selected': HouseBillWorking.shipperId!==null && HouseBillWorking.shipperId===item.id }">
                                                                    <td class="col-xs-2">{{item.id}}</td>
                                                                    <td class="col-xs-3">{{item.shortName}}</td>
                                                                    <td class="col-xs-5">{{item.partnerNameEn}}</td>
                                                                    <td class="col-xs-2">{{item.taxCode}}</td>
                                                                </tr>
                                                            </ng-container>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <textarea class="form-control m-input--square" id="" name="shipperDescription"
                                        rows="3" [(ngModel)]="HouseBillWorking.shipperDescription"></textarea>
                                    <div class="form-control-feedback"
                                        *ngIf="addHouseBillForm.submitted && HouseBillWorking.shipperId==null">
                                        Shipper is required
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': addHouseBillForm.submitted && HouseBillWorking.consigneeId==null }">
                                    <label class="form-control-label" for="">
                                        Consignee <span class="m--font-danger">(*)</span>
                                    </label>
                                    <div class="dropdown e--combogrid" #selectedConsignee>
                                        <input class="form-control m-input m-input--square dropdown-toggle" type="text"
                                            readonly data-toggle="dropdown" placeholder="combogrid"
                                            [value]="selectedConsignee.value==null?'Please select consignee':selectedConsignee.value">
                                        <div class="dropdown-menu e--combogrid-content">
                                            <div class="tabel-wrapper table-fixed">
                                                <div class="table-head-fixed">
                                                    <div class="table-filter-block">
                                                        <div class="search-field">
                                                            <input class="form-control m-input m-input--square"
                                                                type="text" placeholder="Search..."
                                                                (focusout)="getListConsignees(null)"
                                                                (keyup)="getListConsignees($event.target.value)">
                                                            <i class="icon-search"></i>
                                                        </div>
                                                    </div>
                                                    <div class="table-header">
                                                        <table class="table table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th class="col-xs-2">Partner ID</th>
                                                                    <th class="col-xs-3">Name ABBR</th>
                                                                    <th class="col-xs-5">Name EN</th>
                                                                    <th class="col-xs-5">Tax Code</th>
                                                                </tr>
                                                            </thead>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="table-body-scroll">
                                                    <table class="table table-hover">
                                                        <tbody>
                                                            <!-- HouseBillWorking.customerId=item.partnerID -->
                                                            <ng-container
                                                                *ngFor="let item of listConsignee;let i = index">
                                                                <tr class="data-row" attr.data-id="{{i}}"
                                                                    (click)="HouseBillWorking.consigneeId=item.id;selectedConsignee.value=item.partnerNameEn;getConsigneeDescription(item)"
                                                                    [ngClass]="{ 'data-selected': HouseBillWorking.consigneeId!==null && HouseBillWorking.consigneeId===item.id }">
                                                                    <td class="col-xs-2">{{item.id}}</td>
                                                                    <td class="col-xs-3">{{item.shortName}}</td>
                                                                    <td class="col-xs-5">{{item.partnerNameEn}}</td>
                                                                    <td class="col-xs-2">{{item.taxCode}}</td>
                                                                </tr>
                                                            </ng-container>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <textarea class="form-control m-input--square" id="" name="consigneeDescription"
                                        [(ngModel)]="HouseBillWorking.consigneeDescription" rows="3"></textarea>
                                    <div class="form-control-feedback"
                                        *ngIf="addHouseBillForm.submitted && HouseBillWorking.consigneeId==null">
                                        Consignee is required
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': addHouseBillForm.submitted && HouseBillWorking.notifyPartyId==null }">
                                    <label class="form-control-label" for="">
                                        Notify party <span class="m--font-danger">(*)</span>
                                    </label>
                                    <div class="dropdown e--combogrid" #selectedPartner>
                                        <input class="form-control m-input m-input--square dropdown-toggle" type="text"
                                            readonly data-toggle="dropdown" placeholder="combogrid"
                                            [value]="selectedPartner.value==null?'Please select third party':selectedPartner.value">
                                        <div class="dropdown-menu e--combogrid-content">
                                            <div class="tabel-wrapper table-fixed">
                                                <div class="table-head-fixed">
                                                    <div class="table-filter-block">
                                                        <div class="search-field">
                                                            <input class="form-control m-input m-input--square"
                                                                type="text" placeholder="Search..."
                                                                (focusout)="getListConsignees(null)"
                                                                (keyup)="getListNotifyParty($event.target.value)">
                                                            <i class="icon-search"></i>
                                                        </div>
                                                    </div>
                                                    <div class="table-header">
                                                        <table class="table table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th class="col-xs-2">Partner ID</th>
                                                                    <th class="col-xs-3">Name ABBR</th>
                                                                    <th class="col-xs-5">Name EN</th>
                                                                    <th class="col-xs-5">Tax Code</th>
                                                                </tr>
                                                            </thead>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="table-body-scroll">
                                                    <table class="table table-hover">
                                                        <tbody>
                                                            <!-- HouseBillWorking.customerId=item.partnerID -->
                                                            <ng-container
                                                                *ngFor="let item of listConsignee;let i = index">
                                                                <tr class="data-row" attr.data-id="{{i}}"
                                                                    (click)="
                                                                    HouseBillWorking.notifyPartyId=item.id;
                                                                    selectedPartner.value=item.partnerNameEn;
                                                                    getNotifyPartyDescription(item);
                                                                    extend_data.notify_party_nameEn=item.partnerNameEn;
                                                                    extend_data.notify_party_nameVn=item.partnerNameVn;"
                                                                    [ngClass]="{ 'data-selected': HouseBillWorking.notifyPartyId!==null && HouseBillWorking.notifyPartyId===item.id }">
                                                                    <td class="col-xs-2">{{item.id}}</td>
                                                                    <td class="col-xs-3">{{item.shortName}}</td>
                                                                    <td class="col-xs-5">{{item.partnerNameEn}}</td>
                                                                    <td class="col-xs-2">{{item.taxCode}}</td>
                                                                </tr>
                                                            </ng-container>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <textarea class="form-control m-input--square" id="" name="notifyPartyDescription"
                                        [(ngModel)]="HouseBillWorking.notifyPartyDescription" rows="3"></textarea>
                                    <div class="form-control-feedback"
                                        *ngIf="addHouseBillForm.submitted && HouseBillWorking.notifyPartyId==null">
                                        NotifyParty is required
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': addHouseBillForm.submitted && HouseBillLadingNoName.invalid}">
                                    <label class="form-control-label" for="">
                                        House bill of lading no. <span class="m--font-danger">(*)</span>
                                    </label>
                                    <input type="text" (change)="HouseBillWorking.hwbno=HouseBillWorking.hwbno.trim()"
                                        required name="HouseBillLadingNoName" #HouseBillLadingNoName="ngModel"
                                        [(ngModel)]="HouseBillWorking.hwbno"
                                        class="form-control m-input m-input--square" placeholder="Enter text">
                                    <div class="form-control-feedback"
                                        *ngIf="addHouseBillForm.submitted && HouseBillLadingNoName.invalid">
                                        House bill of lading no is required
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': addHouseBillForm.submitted && HouseBillWorking.hbltype==null}">
                                    <label class="form-control-label" for="">
                                        House bill of lading type <span class="m--font-danger">(*)</span>
                                    </label>
                                    <ng-select [allowClear]="true" [items]="listHouseBillLadingType"
                                        [disabled]="disabled" (data)="refreshValue($event)"
                                        [active]="HouseBillWorking.hbltype==null?'':[{'text':HouseBillWorking.hbltype,'id':HouseBillWorking.hbltype}]"
                                        (selected)="HouseBillWorking.hbltype=$event.id"
                                        (removed)="HouseBillWorking.hbltype=null" (typed)="typed($event)"
                                        placeholder="Select option">
                                    </ng-select>
                                    <div class="form-control-feedback"
                                        *ngIf="addHouseBillForm.submitted && HouseBillWorking.hbltype==null">
                                        House bill of lading type is required
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Booking no.
                                    </label>
                                    <input type="text" name="BookingNoName"
                                        (change)="HouseBillWorking.customsBookingNo=HouseBillWorking.customsBookingNo.trim()"
                                        [(ngModel)]="HouseBillWorking.customsBookingNo"
                                        class="form-control m-input m-input--square" placeholder="Enter text">

                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Local vessel & voy no.
                                    </label>
                                    <input type="text" name="LocalVesselAndVoyNoName" #LocalVesselAndVoyNoName="ngModel"
                                        [(ngModel)]="HouseBillWorking.localVoyNo"
                                        (change)="HouseBillWorking.localVoyNo=HouseBillWorking.localVoyNo.trim()"
                                        class="form-control m-input m-input--square" placeholder="Enter text">
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': addHouseBillForm.submitted && OceanVesselAndVoyNoName.invalid}">
                                    <label class="form-control-label" for="">
                                        Ocean vessel & voy no. <span class="m--font-danger">(*)</span>
                                    </label>
                                    <input type="text" required name="OceanVesselAndVoyNoName"
                                        #OceanVesselAndVoyNoName="ngModel" [(ngModel)]="HouseBillWorking.oceanVoyNo"
                                        (change)="HouseBillWorking.oceanVoyNo=HouseBillWorking.oceanVoyNo.trim()"
                                        class="form-control m-input m-input--square" placeholder="Enter text">
                                    <div class="form-control-feedback"
                                        *ngIf="addHouseBillForm.submitted && OceanVesselAndVoyNoName.invalid">
                                        Ocean vessel & voy no is required
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Point of country origin
                                    </label>

                                    <div class="dropdown e--combogrid" #selectedCountry>
                                        <input class="form-control m-input m-input--square dropdown-toggle" type="text"
                                            readonly data-toggle="dropdown" placeholder="combogrid"
                                            [value]="activeOriginCountry==null?'Please select country':activeOriginCountry">
                                        <div class="dropdown-menu e--combogrid-content">
                                            <div class="tabel-wrapper table-fixed">
                                                <div class="table-head-fixed">
                                                    <div class="table-filter-block">
                                                        <div class="search-field">
                                                            <input class="form-control m-input m-input--square"
                                                                type="text" placeholder="Search..."
                                                                (keyup)="getlistCountryOrigin($event.target.value.trim())">
                                                            <i class="icon-search"></i>
                                                        </div>
                                                    </div>
                                                    <div class="table-header">
                                                        <table class="table table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th class="col-xs-2">Country Code</th>
                                                                    <th class="col-xs-5">Name EN</th>
                                                                </tr>
                                                            </thead>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="table-body-scroll">
                                                    <table class="table table-hover">
                                                        <tbody>
                                                            <!-- HouseBillWorking.customerId=item.partnerID -->
                                                            <ng-container
                                                                *ngFor="let item of listCountryOrigin;let i = index">
                                                                <tr class="data-row" attr.data-id="{{i}}"
                                                                    (click)="HouseBillWorking.originCountryId=item.id;activeOriginCountry=item.nameEn;"
                                                                    [ngClass]="{ 'data-selected': HouseBillWorking.originCountryId!==null && HouseBillWorking.originCountryId===item.id }">
                                                                    <td class="col-xs-2">{{item.code}}</td>
                                                                    <td class="col-xs-5">{{item.nameEn}}</td>
                                                                </tr>
                                                            </ng-container>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Place of receipt
                                    </label>

                                    <input type="text" name="PlaceOfReceipt" [(ngModel)]="HouseBillWorking.pickupPlace"
                                        (change)="HouseBillWorking.pickupPlace=HouseBillWorking.pickupPlace.trim()"
                                        class="form-control m-input m-input--square" placeholder="Enter text">
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': addHouseBillForm.submitted && (HouseBillWorking.pol==null || HouseBillWorking.pol==HouseBillWorking.pod)}">
                                    <label class="form-control-label" for="">
                                        Port of loading <span class="m--font-danger">(*)</span>
                                    </label>
                                    <div class="dropdown e--combogrid" #selectedPortOfLoading>
                                        <input class="form-control m-input m-input--square dropdown-toggle" type="text"
                                            readonly data-toggle="dropdown" placeholder="combogrid"
                                            [value]="activePortOfLoading==null?'Please select port of loading':activePortOfLoading">
                                        <div class="dropdown-menu e--combogrid-content">
                                            <div class="tabel-wrapper table-fixed">
                                                <div class="table-head-fixed">
                                                    <div class="table-filter-block">
                                                        <div class="search-field">
                                                            <input class="form-control m-input m-input--square"
                                                                type="text" placeholder="Search..."
                                                                (keyup)="getListPorts($event.target.value.trim())">
                                                            <i class="icon-search"></i>
                                                        </div>
                                                    </div>
                                                    <div class="table-header">
                                                        <table class="table table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th class="col-xs-2">Port Code</th>
                                                                    <th class="col-xs-2">Port Name</th>
                                                                    <th class="col-xs-5">Country</th>
                                                                </tr>
                                                            </thead>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="table-body-scroll">
                                                    <table class="table table-hover">
                                                        <tbody>
                                                            <!-- HouseBillWorking.customerId=item.partnerID -->
                                                            <ng-container *ngFor="let item of listPort;let i = index">
                                                                <tr class="data-row" attr.data-id="{{i}}"
                                                                    (click)="HouseBillWorking.pol=item.id;activePortOfLoading=item.nameEN;"
                                                                    [ngClass]="{ 'data-selected': HouseBillWorking.pol!==null && HouseBillWorking.pol===item.id }">
                                                                    <td class="col-xs-2">{{item.code}}</td>
                                                                    <td class="col-xs-5">{{item.nameEN}}</td>
                                                                    <td class="col-xs-5">{{item.countryName}}</td>
                                                                </tr>
                                                            </ng-container>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-control-feedback"
                                        *ngIf="addHouseBillForm.submitted && (HouseBillWorking.pol==null || HouseBillWorking.pol==HouseBillWorking.pod)">
                                        Port of loading is required and must be difference with port of discharge
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': addHouseBillForm.submitted && (HouseBillWorking.pod==null || HouseBillWorking.pol==HouseBillWorking.pod)}">
                                    <label class="form-control-label" for="">
                                        Port of discharge <span class="m--font-danger">(*)</span>
                                    </label>

                                    <div class="dropdown e--combogrid" #selectedPortOfDischarge>
                                        <input class="form-control m-input m-input--square dropdown-toggle" type="text"
                                            readonly data-toggle="dropdown" placeholder="combogrid"
                                            [value]="activePortOfDischarge==null?'Please select port of discharge':activePortOfDischarge">
                                        <div class="dropdown-menu e--combogrid-content">
                                            <div class="tabel-wrapper table-fixed">
                                                <div class="table-head-fixed">
                                                    <div class="table-filter-block">
                                                        <div class="search-field">
                                                            <input class="form-control m-input m-input--square"
                                                                type="text" placeholder="Search..."
                                                                (keyup)="getListPorts($event.target.value.trim())">
                                                            <i class="icon-search"></i>
                                                        </div>
                                                    </div>
                                                    <div class="table-header">
                                                        <table class="table table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th class="col-xs-2">Port Code</th>
                                                                    <th class="col-xs-2">Port Name</th>
                                                                    <th class="col-xs-5">Country</th>
                                                                </tr>
                                                            </thead>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="table-body-scroll">
                                                    <table class="table table-hover">
                                                        <tbody>
                                                            <!-- HouseBillWorking.customerId=item.partnerID -->
                                                            <ng-container *ngFor="let item of listPort;let i = index">
                                                                <tr class="data-row" attr.data-id="{{i}}"
                                                                    (click)="HouseBillWorking.pod=item.id;activePortOfDischarge=item.nameEN;"
                                                                    [ngClass]="{ 'data-selected': HouseBillWorking.pol!==null && HouseBillWorking.pod===item.id }">
                                                                    <td class="col-xs-2">{{item.code}}</td>
                                                                    <td class="col-xs-5">{{item.nameEN}}</td>
                                                                    <td class="col-xs-5">{{item.countryName}}</td>
                                                                </tr>
                                                            </ng-container>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-control-feedback"
                                        *ngIf="addHouseBillForm.submitted && (HouseBillWorking.pod==null || HouseBillWorking.pol==HouseBillWorking.pod)">
                                        Port of discharge is required and must be difference with port of loading
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Place of delivery
                                    </label>
                                    <input type="text" name="PlaceOfDelivery"
                                        [(ngModel)]="HouseBillWorking.deliveryPlace"
                                        (change)="HouseBillWorking.deliveryPlace=HouseBillWorking.deliveryPlace.trim()"
                                        class="form-control m-input m-input--square" placeholder="Enter text">
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Final destination
                                    </label>
                                    <input type="text" name="FinalDestination"
                                        [(ngModel)]="HouseBillWorking.finalDestinationPlace"
                                        (change)="HouseBillWorking.finalDestinationPlace=HouseBillWorking.finalDestinationPlace.trim()"
                                        class="form-control m-input m-input--square" placeholder="Enter text">
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': addHouseBillForm.submitted && HouseBillWorking.freightPayment==null}">
                                    <label class="form-control-label" for="">
                                        Freight payment <span class="m--font-danger">(*)</span>
                                    </label>
                                    <ng-select [allowClear]="true" [items]="listFreightPayment" [disabled]="disabled"
                                        [active]="HouseBillWorking.freightPayment==null?'':[{'text':HouseBillWorking.freightPayment,'id':HouseBillWorking.freightPayment}]"
                                        (data)="refreshValue($event)"
                                        (selected)="HouseBillWorking.freightPayment=$event.id; HouseBillWorking.placeFreightPay = $event.id==='Prepaid'?'Origin':'Destination'"
                                        (removed)="HouseBillWorking.freightPayment=null" (typed)="typed($event)"
                                        placeholder="Select option">
                                    </ng-select>
                                    <div class="form-control-feedback"
                                        *ngIf="addHouseBillForm.submitted && HouseBillWorking.freightPayment==null">
                                        Freight payment is required
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Closing date
                                    </label>
                                    <div class="m-input-icon m-input-icon--right down daterange-rtl">
                                        <input type="text" class="form-control m-input m-input--square"
                                            ngxDaterangepickerMd [locale]="{applyLabel: 'apply', format: 'DD/MM/YYYY'}"
                                            [autoApply]="true" [(ngModel)]="HouseBillWorking.closingDate"
                                            [ranges]="ranges" [singleDatePicker]="true" [alwaysShowCalendars]="true"
                                            name="closingDateName" placeholder="Select date" readonly />
                                        <span class="m-input-icon__icon m-input-icon__icon--right">
                                            <span>
                                                <i class="la la-calendar"></i>
                                            </span>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': addHouseBillForm.submitted && sailingDateName.invalid}">
                                    <label class="form-control-label" for="">
                                        Sailling date <span class="m--font-danger">(*)</span>
                                    </label>
                                    <div class="m-input-icon m-input-icon--right down daterange-rtl">
                                        <input type="text" class="form-control m-input m-input--square"
                                            ngxDaterangepickerMd [locale]="{applyLabel: 'apply', format: 'DD/MM/YYYY'}"
                                            [autoApply]="true" [(ngModel)]="HouseBillWorking.sailingDate"
                                            [ranges]="ranges" required [singleDatePicker]="true"
                                            [alwaysShowCalendars]="true" name="sailingDateName"
                                            #sailingDateName="ngModel" placeholder="Select date" readonly />
                                        <span class="m-input-icon__icon m-input-icon__icon--right">
                                            <span>
                                                <i class="la la-calendar"></i>
                                            </span>
                                        </span>
                                        <div class="form-control-feedback"
                                            *ngIf="addHouseBillForm.submitted && sailingDateName.invalid">
                                            Sailing date is required
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': addHouseBillForm.submitted && FreightPayableAtName.invalid}">
                                    <label class="form-control-label" for="">
                                        Freight payable at <span class="m--font-danger">(*)</span>
                                    </label>
                                    <input type="text" required name="FreightPayableAtName"
                                        (change)="HouseBillWorking.placeFreightPay=HouseBillWorking.placeFreightPay.trim()"
                                        #FreightPayableAtName="ngModel" [(ngModel)]="HouseBillWorking.placeFreightPay"
                                        (change)="HouseBillWorking.placeFreightPay=HouseBillWorking.placeFreightPay.trim()"
                                        class="form-control m-input m-input--square" placeholder="Enter text">
                                    <div class="form-control-feedback"
                                        *ngIf="addHouseBillForm.submitted && FreightPayableAtName.invalid">
                                        Freight payable at is required
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="div-inside bg-secondary">
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Forwarding agent
                                    </label>

                                    <div class="dropdown e--combogrid" #selectedForwardingAgent>
                                        <input class="form-control m-input m-input--square dropdown-toggle" type="text"
                                            readonly data-toggle="dropdown" placeholder="combogrid"
                                            [value]="selectedForwardingAgent.value==null?'Please select forwarding agent':selectedForwardingAgent.value">
                                        <div class="dropdown-menu e--combogrid-content">
                                            <div class="tabel-wrapper table-fixed">
                                                <div class="table-head-fixed">
                                                    <div class="table-filter-block">
                                                        <div class="search-field">
                                                            <input class="form-control m-input m-input--square"
                                                                type="text" placeholder="Search..."
                                                                (keyup)="getListForwardingAgent($event.target.value.trim())">
                                                            <i class="icon-search"></i>
                                                        </div>
                                                    </div>
                                                    <div class="table-header">
                                                        <table class="table table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th class="col-xs-2">Partner ID</th>
                                                                    <th class="col-xs-2">Name ABBR</th>
                                                                    <th class="col-xs-5">Name EN</th>
                                                                    <th class="col-xs-5">Tax Code</th>
                                                                </tr>
                                                            </thead>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="table-body-scroll">
                                                    <table class="table table-hover">
                                                        <tbody>
                                                            <!-- HouseBillWorking.customerId=item.partnerID -->
                                                            <ng-container
                                                                *ngFor="let item of listFowardingAgent;let i = index">
                                                                <tr class="data-row" attr.data-id="{{i}}" (click)="HouseBillWorking.forwardingAgentId=item.id;
                                                                             selectedForwardingAgent.value=item.partnerNameEn;
                                                                             extend_data.forwarding_agent_nameEn=item.partnerNameEn;
                                                                             getForwardingAgentDescription(item)"
                                                                    [ngClass]="{ 'data-selected': HouseBillWorking.forwardingAgentId!==null && HouseBillWorking.forwardingAgentId===item.id }">
                                                                    <td class="col-xs-2">{{item.id}}</td>
                                                                    <td class="col-xs-5">{{item.shortName}}</td>
                                                                    <td class="col-xs-5">{{item.partnerNameEn}}</td>
                                                                    <td class="col-xs-5">{{item.taxCode}}</td>
                                                                </tr>
                                                            </ng-container>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <textarea class="form-control m-input--square" id="" name="forwardingAgent"
                                            [(ngModel)]="HouseBillWorking.forwardingAgentDescription"
                                            rows="3"></textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-8">
                                <div class="row">
                                    <div class="col-lg-6">
                                        <div class="form-group">
                                            <label class="form-control-label" for="">
                                                Number of origin B/L
                                            </label>
                                            <ng-select [allowClear]="true" [items]="listNumberOfOriginBL"
                                                [active]="HouseBillWorking.originBlnumber==null?'':[{'text':HouseBillWorking.originBlnumber,'id':HouseBillWorking.originBlnumber}]"
                                                [disabled]="disabled" (data)="refreshValue($event)"
                                                (selected)="HouseBillWorking.originBlnumber=$event.id"
                                                (removed)="HouseBillWorking.originBlnumber=null" (typed)="typed($event)"
                                                placeholder="Select option">
                                            </ng-select>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="form-group">
                                            <label class="form-control-label" for="">
                                                Place and date of issue H-B/L
                                            </label>
                                            <input type="text" name="ReferenceNo"
                                                [(ngModel)]="HouseBillWorking.issueHblplaceAndDate"
                                                (change)="HouseBillWorking.issueHblplaceAndDate=HouseBillWorking.issueHblplaceAndDate.trim()"
                                                class="form-control m-input m-input--square" placeholder="Enter text">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-6">
                                        <div class="form-group">
                                            <label class="form-control-label" for="">
                                                Reference no.
                                            </label>
                                            <input type="text" name="ReferenceNo"
                                                [(ngModel)]="HouseBillWorking.referenceNo"
                                                (change)="HouseBillWorking.referenceNo=HouseBillWorking.referenceNo.trim()"
                                                class="form-control m-input m-input--square" placeholder="Enter text">
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="form-group">
                                            <label class="form-control-label" for="">
                                                Export reference no.
                                            </label>
                                            <input type="text" name="ExportReferenceNo"
                                                [(ngModel)]="HouseBillWorking.exportReferenceNo"
                                                (change)="HouseBillWorking.exportReferenceNo=HouseBillWorking.exportReferenceNo.trim()"
                                                class="form-control m-input m-input--square" placeholder="Enter text">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Delivery of good
                                    </label>
                                    <div class="dropdown e--combogrid" #selectedDeliveryOfGood>
                                        <input class="form-control m-input m-input--square dropdown-toggle" type="text"
                                            readonly data-toggle="dropdown" placeholder="combogrid"
                                            [value]="selectedDeliveryOfGood.value==null?'Please select delivery of goods':selectedDeliveryOfGood.value">
                                        <div class="dropdown-menu e--combogrid-content">
                                            <div class="tabel-wrapper table-fixed">
                                                <div class="table-head-fixed">
                                                    <div class="table-filter-block">
                                                        <div class="search-field">
                                                            <input class="form-control m-input m-input--square"
                                                                type="text" placeholder="Search..."
                                                                (keyup)="getListForwardingAgent($event.target.value.trim())">
                                                            <i class="icon-search"></i>
                                                        </div>
                                                    </div>
                                                    <div class="table-header">
                                                        <table class="table table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th class="col-xs-2">Partner ID</th>
                                                                    <th class="col-xs-2">Name ABBR</th>
                                                                    <th class="col-xs-5">Name EN</th>
                                                                    <th class="col-xs-5">Tax Code</th>
                                                                </tr>
                                                            </thead>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="table-body-scroll">
                                                    <table class="table table-hover">
                                                        <tbody>
                                                            <!-- HouseBillWorking.customerId=item.partnerID -->
                                                            <ng-container
                                                                *ngFor="let item of listFowardingAgent;let i = index">
                                                                <tr class="data-row" attr.data-id="{{i}}"
                                                                    (click)="HouseBillWorking.goodsDeliveryId=item.id;selectedDeliveryOfGood.value=item.partnerNameEn;getGoodDeliveryDescription(item)"
                                                                    [ngClass]="{ 'data-selected': HouseBillWorking.goodsDeliveryId!==null && HouseBillWorking.goodsDeliveryId===item.id }">
                                                                    <td class="col-xs-2">{{item.id}}</td>
                                                                    <td class="col-xs-5">{{item.shortName}}</td>
                                                                    <td class="col-xs-5">{{item.partnerNameEn}}</td>
                                                                    <td class="col-xs-5">{{item.taxCode}}</td>
                                                                </tr>
                                                            </ng-container>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <textarea class="form-control m-input--square" id="" name="goodsDeliveryDescription"
                                        [(ngModel)]="HouseBillWorking.goodsDeliveryDescription" rows="3"></textarea>
                                </div>
                            </div>
                            <div class="col-lg-8">
                                <div class="row">
                                    <div class="col-lg-6">
                                        <div class="form-group">
                                            <label class="form-control-label" for="">
                                                Type of move
                                            </label>
                                            <ng-select [allowClear]="true" [items]="listTypeOfMove"
                                                [active]="HouseBillWorking.moveType==null?'':[{'text':HouseBillWorking.moveType,'id':HouseBillWorking.moveType}]"
                                                [disabled]="disabled" (data)="refreshValue($event)"
                                                (selected)="HouseBillWorking.moveType=$event.id"
                                                (removed)="HouseBillWorking.moveType=null" (typed)="typed($event)"
                                                placeholder="Select option">
                                            </ng-select>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="form-group">
                                            <label class="form-control-label" for="">
                                                Purchase order no.
                                            </label>
                                            <input type="text" name="PurchaseOrderNo"
                                                [(ngModel)]="HouseBillWorking.purchaseOrderNo"
                                                (change)="HouseBillWorking.purchaseOrderNo=HouseBillWorking.purchaseOrderNo.trim()"
                                                class="form-control m-input m-input--square" placeholder="Enter text">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-6">
                                        <div class="form-group">
                                            <label class="form-control-label" for="">
                                                Type of sevice
                                            </label>
                                            <ng-select [allowClear]="true" [items]="listTypeOfService"
                                                [active]="HouseBillWorking.serviceType==null?'':[{'text':HouseBillWorking.serviceType,'id':HouseBillWorking.serviceType}]"
                                                [disabled]="disabled" (data)="refreshValue($event)"
                                                (selected)="HouseBillWorking.serviceType=$event.id"
                                                (removed)="HouseBillWorking.serviceType=null" (typed)="typed($event)"
                                                placeholder="Select option">
                                            </ng-select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="div-inside bg-secondary">
                        <div class="row">
                            <div class="col-6">
                                <h3 class="c-block-title">
                                    HBL Good Summary
                                </h3>
                            </div>
                            <div class="col-6 m--align-right">
                                <button type="button" (click)="refreshHBLSummary()"
                                    class="btn btn-sm btn-default m-btn--square m-btn--icon m-btn--uppercase">
                                    <span>
                                        <i class="la la-refresh"></i>
                                        <span>
                                            Refresh
                                        </span>
                                    </span>
                                </button>
                            </div>
                        </div>
                        <hr />
                        <div class="row">
                            <div class="col-xl-8">
                                <div class="row">
                                    <div class="col-lg-6">
                                        <div class="form-group">
                                            <label class="form-control-label" for="">
                                                Commodities:
                                            </label>
                                            <textarea class="form-control m-input--square" name="commodityHB" id=""
                                                [(ngModel)]="HouseBillWorking.commodity"
                                                rows="3">Steel, Consumer Good, Drug, Weapon</textarea>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="form-group">
                                            <label class="form-control-label" for="">
                                                Detail container & packages:
                                            </label>
                                            <textarea class="form-control m-input--square" name="packageContainerHB"
                                                id="" [(ngModel)]="HouseBillWorking.packageContainer"
                                                rows="3">container-1, container-2, container-3</textarea>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Description of good:
                                    </label>
                                    <textarea class="form-control m-input--square" name="desOfGoodsHB" id=""
                                        [(ngModel)]="HouseBillWorking.desOfGoods"
                                        rows="3">Description-1, Description-2, Description-3, Description-4</textarea>
                                </div>
                            </div>
                            <div class="col-xl-4">
                                <div class="m--margin-bottom-10">
                                    <span class="m--font-bolder">
                                        Total gross weight:
                                    </span>
                                    <span>{{totalGrossWeight}}</span>
                                </div>
                                <div class="m--margin-bottom-10">
                                    <span class="m--font-bolder">
                                        Total net weight:
                                    </span>
                                    <span>{{totalNetWeight}}</span>
                                </div>
                                <div class="m--margin-bottom-10">
                                    <span class="m--font-bolder">
                                        Total chargeable weight:
                                    </span>
                                    <span>{{totalCharWeight}}</span>
                                </div>
                                <div class="m--margin-bottom-10">
                                    <span class="m--font-bolder">
                                        Total CBM:
                                    </span>
                                    <span>{{totalCBM}}</span>
                                </div>
                                <div class="m--margin-top-10">
                                    <button type="button" (click)="showAddContainerForm()"
                                        class="btn btn-success m-btn--square m-btn--icon m-btn--uppercase"
                                        data-toggle="modal" data-target="#container-list-of-job-modal-house">
                                        <span>
                                            <i class="la la-list"></i>
                                            <span>
                                                container list
                                            </span>
                                        </span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="div-inside bg-secondary">
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Shipping mark
                                    </label>
                                    <input type="text" name="ShippingMark" [(ngModel)]="HouseBillWorking.shippingMark"
                                        class="form-control m-input m-input--square"
                                        (change)="HouseBillWorking.shippingMark=HouseBillWorking.shippingMark.trim()"
                                        placeholder="Enter text">
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        In word
                                    </label>
                                    <input type="text" name="InWord" [(ngModel)]="HouseBillWorking.inWord"
                                        (change)="HouseBillWorking.inWord=HouseBillWorking.inWord.trim()"
                                        class="form-control m-input m-input--square" placeholder="Enter text">
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        On board status
                                    </label>
                                    <input type="text" name="OnBoardStatus" [(ngModel)]="HouseBillWorking.onBoardStatus"
                                        (change)="HouseBillWorking.onBoardStatus=HouseBillWorking.onBoardStatus.trim()"
                                        class="form-control m-input m-input--square" placeholder="Enter text">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--end::Form-->
            </div>
            <div class="modal-footer m--align-center">
                <button class="btn btn-brand m-btn--square m-btn--icon m-btn--uppercase"
                    (click)="save(addHouseBillForm);">
                    <span>
                        <i class="la la-save"></i>
                        <span>
                            save
                        </span>
                    </span>
                </button>
                <button type="button" class="btn m-btn--square m-btn--icon m-btn--uppercase" data-dismiss="modal"
                    (click)="resetForm()">
                    <span>
                        <i class="la la-ban"></i>
                        <span>
                            cancel
                        </span>
                    </span>
                </button>
            </div>
        </div>

    </div>
</form>


<!--begin::container-list-of-job-modal-house-->
<div class="modal fade" id="container-list-of-job-modal-house" data-backdrop="static" role="dialog" aria-labelledby=""
    aria-hidden="true">
    <div class="modal-dialog c-modal-fullscreen" role="document">
        <form novalidate #containerListForm="ngForm" (ngSubmit)="containerListForm.form.valid">
            <div class="modal-content m-form m-form--state">
                <div class="modal-header">
                    <h5 class="modal-title">Container List Module</h5>

                    <button type="button" class="close" aria-label="Close" (click)="closeAddContainerForm()">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">

                    <div class="container-list-table">
                        <!--begin: Search Form -->
                        <div class="m-form m-form--label-align-right m--margin-bottom-10">
                            <div class="row align-items-center">
                                <div class="col-lg-4 order-2 order-lg-1">
                                    <div class="form-group">
                                        <div class="m-input-icon m-input-icon--left">
                                            <input type="text" class="form-control m-input m-input--square"
                                                placeholder="Search...">
                                            <span class="m-input-icon__icon m-input-icon__icon--left">
                                                <span>
                                                    <i class="la la-search"></i>
                                                </span>
                                            </span>
                                        </div>
                                        <h6>Number Time of Save : {{numberOfTimeSaveContainer}}</h6>
                                    </div>
                                </div>
                                <div class="col-lg-8 order-1 order-lg-2 c-button-actions m--align-right">
                                    <button type="button"
                                        class="btn btn-brand m-btn--square m-btn--icon m-btn--uppercase">
                                        <span>
                                            <i class="la la-download"></i>
                                            <span>
                                                import
                                            </span>
                                        </span>
                                    </button>
                                    <button type="button"
                                        class="btn btn-success m-btn--square m-btn--icon m-btn--uppercase"
                                        (click)="addNewContainer()">
                                        <span>
                                            <i class="la la-plus"></i>
                                            <span>
                                                add container
                                            </span>
                                        </span>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <!--end: Search Form -->
                        <!--begin: Datatable -->
                        <div class="table-wrapper" id="" style="min-height: 300px">
                            <table class="table table-striped table-brand table-editable">
                                <thead class="">
                                    <tr class="">
                                        <th class="fixed-side"></th>
                                        <th class="">
                                            <span>
                                                Cont Type
                                            </span>
                                        </th>
                                        <th class="">
                                            <span>
                                                Cont Q'ty
                                            </span>
                                        </th>
                                        <th class="">
                                            <span>
                                                Cont No.
                                            </span>
                                        </th>
                                        <th class="">
                                            <span>
                                                Seal No.
                                            </span>
                                        </th>
                                        <th class="">
                                            <span>
                                                Mark No.
                                            </span>
                                        </th>
                                        <th class="">
                                            <span>
                                                Commodity
                                            </span>
                                        </th>
                                        <th class="">
                                            <span>
                                                Package Type
                                            </span>
                                        </th>
                                        <th class="">
                                            <span>
                                                Package Q'ty
                                            </span>
                                        </th>
                                        <th class="">
                                            <span>
                                                Description of Good
                                            </span>
                                        </th>
                                        <th class="">
                                            <span>
                                                N.W
                                            </span>
                                        </th>
                                        <th class="">
                                            <span>
                                                G.W
                                            </span>
                                        </th>
                                        <th class="">
                                            <span>
                                                C.W
                                            </span>
                                        </th>
                                        <th class="">
                                            <span>
                                                Unit
                                            </span>
                                        </th>
                                        <th class="">
                                            <span>
                                                CBM
                                            </span>
                                        </th>
                                    </tr>
                                </thead>


                                <tbody *ngIf="lstHouseBillContainers" id="hb-containers-list">
                                    <ng-container *ngFor="let container of lstHouseBillContainers; let i= index">
                                        <tr class="m-form m-form--state row-editing" *ngIf="container.allowEdit">
                                            <td class="table-actions-col fixed-side">
                                                <div class="table-actions control-editable" style="width: 70px">
                                                    <button type="submit"
                                                        class="btn btn-primary btn-sm m-btn--square m-btn--icon m-btn--icon-only"
                                                        title="Save" (click)="saveNewContainer(i,containerListForm)">
                                                        <i class="la la-save"></i>
                                                    </button>
                                                    <button type="button"
                                                        class="btn btn-danger btn-sm m-btn--square m-btn--icon m-btn--icon-only"
                                                        title="Cancel" (click)="cancelNewContainer(i)">
                                                        <i class="la la-ban"></i>
                                                    </button>
                                                </div>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    Cont Type <span class="m--font-danger">(*)</span>
                                                </span>
                                                <div class="control-editable"
                                                    [ngClass]="{ 'has-danger': containerListForm.submitted && container.containerTypeId == null && container.verifying}">
                                                    <ng-select [allowClear]="true" [items]="containerTypes"
                                                        [disabled]="disabled" (data)="refreshValue($event)"
                                                        (selected)="container.containerTypeId = $event.id;container.containerTypeName = $event.text"
                                                        (removed)="container.containerTypeId = null;container.containerTypeName = null"
                                                        (typed)="typed($event)" [active]="container.containerTypeActive"
                                                        placeholder="Select filter">
                                                    </ng-select>
                                                    <div class="form-control-feedback"
                                                        *ngIf="containerListForm.submitted && container.containerTypeId == null && container.verifying">
                                                        Container type is required.
                                                    </div>
                                                </div>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    Cont Q'ty
                                                </span>
                                                <div class="control-editable"
                                                    [ngClass]="{ 'has-danger': containerListForm.submitted && conQuantity.invalid && container.verifying}">
                                                    <input type="number" class="form-control m-input m-input--square"
                                                        min="1" value="1" oninput="validity.valid||(value='');"
                                                        placeholder="Please enter" [(ngModel)]="container.quantity"
                                                        name="conQuantity" #conQuantity="ngModel" required>
                                                    <div class="form-control-feedback"
                                                        *ngIf="containerListForm.submitted && conQuantity.invalid && container.verifying">
                                                        Cont Q'ty must be a number
                                                    </div>
                                                </div>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    Cont No.
                                                </span>
                                                <div class="control-editable">
                                                    <input type="text" class="form-control m-input m-input--square"
                                                        placeholder="Please enter" autocomplete="nope"
                                                        [(ngModel)]="container.containerNo" name="containerNo"
                                                        #containerNo="ngModel">
                                                </div>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    Seal No.
                                                </span>
                                                <div class="control-editable">
                                                    <input type="text" class="form-control m-input m-input--square"
                                                        placeholder="Please enter" autocomplete="nope"
                                                        [(ngModel)]="container.sealNo" name="sealNo" #sealNo="ngModel">
                                                </div>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    Mark No.
                                                </span>
                                                <div class="control-editable">
                                                    <input type="text" class="form-control m-input m-input--square"
                                                        placeholder="Please enter" autocomplete="nope"
                                                        [(ngModel)]="container.markNo" name="markNo" #markNo="ngModel">
                                                </div>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    Commodity
                                                </span>
                                                <div class="control-editable">
                                                    <app-combo-grid-virtual-scroll 
                                                    (itemSelected)="container.commodityId=$event"
                                                    [selectedDisplayFields]="['commodityNameEn']"
                                                    [dataSources]="commodities" 
                                                    [displayFields]="[{'field':'commodityNameEn','label':'Name EN'},{'field':'commodityNameVn','label':'Name VN'},{'field':'commonityGroupNameEn','label':'Group'}]">

                                                    </app-combo-grid-virtual-scroll>
                                                    <!-- <div class="dropdown e--combogrid" #selectedCommodity>
                                                        <input
                                                            class="form-control m-input m-input--square dropdown-toggle"
                                                            type="text" readonly data-toggle="dropdown"
                                                            (keyup)="SearchCommodity($event.target.value)"
                                                            placeholder="Please selected"
                                                            [value]="container.commodityName == null?'Please selected a commodity':container.commodityName">
                                                        <div
                                                            class="dropdown-menu  dropdown-menu-right e--combogrid-content">
                                                            <div class="tabel-wrapper table-fixed">
                                                                <div class="table-head-fixed">
                                                                    <div class="table-filter-block">
                                                                        <div class="search-field">
                                                                            <input
                                                                                (keyup)="getComodities($event.target.value)"
                                                                                (focusout)="getComodities(null)"
                                                                                class="form-control m-input m-input--square"
                                                                                type="text" placeholder="Search...">
                                                                            <i class="icon-search"></i>
                                                                        </div>
                                                                    </div>
                                                                    <div class="table-header">
                                                                        <table class="table table-hover">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>Name EN</th>
                                                                                    <th>Name VN</th>
                                                                                    <th>Group</th>
                                                                                </tr>
                                                                            </thead>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                                <div class="table-body-scroll">
                                                                    <table class="table table-hover">
                                                                        <tbody *ngIf="commodities">
                                                                            <cdk-virtual-scroll-viewport style="height: 300px" itemSize="10">
                                                                                <tr class="data-row"
                                                                                    *cdkVirtualFor="let commodity of commodities; let i= index"
                                                                                    data-id="{{(i+1)}}"
                                                                                    (click)="container.commodityId=commodity.id; container.commodityName = commodity.commodityNameEn; selectedCommodity.value= commodity.commodityNameEn"
                                                                                    [class.data-selected]="container.commodityId !==null && container.commodityId===commodity.id">
                                                                                    <td>{{ commodity.commodityNameEn }}
                                                                                    </td>
                                                                                    <td>{{ commodity.commodityNameVn }}
                                                                                    </td>
                                                                                    <td>{{ commodity.commonityGroupNameEn }}
                                                                                    </td>
                                                                                </tr>
                                                                            </cdk-virtual-scroll-viewport>

                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div> -->
                                                </div>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    Package Type
                                                </span>
                                                <div class="control-editable">
                                                    <ng-select [allowClear]="true" [items]="packageTypes"
                                                        [disabled]="disabled" (data)="refreshValue($event)"
                                                        (selected)="container.packageTypeId = $event.id; container.packageTypeName = $event.text"
                                                        (removed)="container.packageTypeId = null; container.packageTypeName = null"
                                                        (typed)="typed($event)" [active]="container.packageTypeActive"
                                                        placeholder="Select filter">
                                                    </ng-select>
                                                </div>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    Package Q'ty
                                                </span>
                                                <div class="control-editable">
                                                    <input type="number" class="form-control m-input m-input--square"
                                                        min="1" [(ngModel)]="container.packageQuantity"
                                                        name="packageQuantity" #packageQuantity="ngModel"
                                                        oninput="validity.valid||(value='');" placeholder="Please enter"
                                                        autocomplete="nope">
                                                </div>
                                            </td>
                                            <td class="" style="width: 130px">
                                                <span class="content-editable">
                                                    Description of Good di thit l di  nha Tem Tem
                                                </span>
                                                <div class="control-editable">
                                                    <input type="text" class="form-control m-input m-input--square"
                                                        autocomplete="nope" [(ngModel)]="container.description"
                                                        name="descriptionOfGood" #descriptionOfGood="ngModel"
                                                        placeholder="Please enter">
                                                </div>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    N.W
                                                </span>
                                                <div class="control-editable">
                                                    <input type="number" class="form-control m-input m-input--square"
                                                        placeholder="Please enter" autocomplete="nope"
                                                        [(ngModel)]="container.nw" name="containerNW" min="0.01"
                                                        appTwoDigitDecimaNumber #containerNW="ngModel">
                                                </div>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    G.W
                                                </span>
                                                <div class="control-editable">
                                                    <input type="number" class="form-control m-input m-input--square"
                                                        placeholder="Please enter" autocomplete="nope"
                                                        [(ngModel)]="container.gw" name="containerGW" min="0.01"
                                                        appTwoDigitDecimaNumber #containerGW="ngModel">
                                                </div>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    C.W
                                                </span>
                                                <div class="control-editable">
                                                    <input type="number" class="form-control m-input m-input--square"
                                                        placeholder="Please enter" autocomplete="nope"
                                                        [(ngModel)]="container.chargeAbleWeight"
                                                        name="containerchargeAbleWeight" min="0.01"
                                                        appTwoDigitDecimaNumber #containerchargeAbleWeight="ngModel">
                                                </div>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    Unit
                                                </span>
                                                <div class="control-editable">
                                                    <ng-select [allowClear]="true" [items]="weightMesurements"
                                                        [disabled]="true" (data)="refreshValue($event)"
                                                        (selected)="container.unitOfMeasureId = $event.id; container.unitOfMeasureName = $event.text"
                                                        (removed)="container.unitOfMeasureId = null; container.unitOfMeasureName = null"
                                                        (typed)="typed($event)" [active]="container.unitOfMeasureActive"
                                                        placeholder="Select filter">
                                                    </ng-select>
                                                </div>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    CBM
                                                </span>
                                                <div class="control-editable">
                                                    <input type="number" class="form-control m-input m-input--square"
                                                        placeholder="Please enter" autocomplete="nope"
                                                        [(ngModel)]="container.cbm" name="containerCBM" min="0.01"
                                                        appTwoDigitDecimaNumber #containerCBM="ngModel">
                                                </div>
                                            </td>
                                        </tr>
                                        <tr class="" *ngIf="!container.allowEdit">
                                            <td class="table-actions-col fixed-side">
                                                <div class="table-actions" style="width: 70px">
                                                    <button type="button"
                                                        class="btn btn-success btn-sm m-btn--square m-btn--icon m-btn--icon-only"
                                                        title="Edit" (click)="changeEditStatus(i)">
                                                        <i class="la la-edit"></i>
                                                    </button>
                                                    <button type="button"
                                                        class="btn btn-danger btn-sm m-btn--square m-btn--icon m-btn--icon-only"
                                                        title="Remove" (click)=removeAContainer(i)>
                                                        <i class="la la-trash"></i>
                                                    </button>
                                                </div>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    {{ container.containerTypeName }}
                                                </span>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    {{ container.quantity }}
                                                </span>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    {{ container.containerNo }}
                                                </span>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    {{ container.sealNo }}
                                                </span>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    {{ container.markNo }}
                                                </span>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    {{ container.commodityName }}
                                                </span>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    {{ container.packageTypeName }}
                                                </span>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    {{ container.packageQuantity }}
                                                </span>
                                            </td>
                                            <td class="" style="width: 130px">
                                                <span class="content-editable">
                                                    {{ container.description }}
                                                </span>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    {{ container.nw | number: '1.2-2' }}
                                                </span>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    {{ container.gw | number: '1.2-2' }}
                                                </span>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    {{ container.chargeAbleWeight | number: '1.2-2' }}
                                                </span>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    {{ container.unitOfMeasureName }}
                                                </span>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    {{ container.cbm }}
                                                </span>
                                            </td>
                                        </tr>

                                    </ng-container>
                                </tbody>


                            </table>
                        </div>
                        <!--end: Datatable -->
                    </div>

                </div>
                <div class="modal-footer m--align-center">
                    <button type="submit" (click)="onSubmitContainer(containerListForm)"
                        class="btn btn-brand m-btn--square m-btn--icon m-btn--uppercase">
                        <span>
                            <i class="la la-save"></i>
                            <span>
                                save
                            </span>
                        </span>
                    </button>
                    <!-- <app-default-button [buttonSetting]="saveButtonSetting" (click)="onSubmitContainer()"></app-default-button> -->
                    <button type="button" class="btn m-btn--square m-btn--icon m-btn--uppercase"
                        (click)="closeAddContainerForm()">
                        <span>
                            <i class="la la-ban"></i>
                            <span>
                                cancel
                            </span>
                        </span>
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>
<!--end::container-list-of-job-modal-house-->

<!--begin::import-housebill-detail-modal-->
<div class="modal fade" id="import-housebill-detail-modal" data-backdrop="static" role="dialog" aria-labelledby=""
    aria-hidden="true">
    <app-housebill-import-detail [shipmentDetails]="listShipmentDetails" [pager]="pager"
        (shipmentImport)="showShipmentDetail($event)"></app-housebill-import-detail>
</div>
<!--end::import-housebill-detail-modal-->