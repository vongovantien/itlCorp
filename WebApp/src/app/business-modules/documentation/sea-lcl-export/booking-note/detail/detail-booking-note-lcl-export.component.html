<div class="create-booking-note-page">

    <app-sub-header> </app-sub-header>

    <div class="m-content">
        <div class="m-portlet">
            <div class="m-portlet__body">
                <div class="d-flex align-items-center justify-content-between p-1">
                    <h3>Booking Note</h3>
                    <div>
                        <div class="c-button-actions">
                            <ng-container *ngIf="ACTION === 'UPDATE' || ACTION === null">
                                <button type="button" class="btn btn-default m-btn--square m-btn--icon m-btn--uppercase"
                                    (click)="previewBookingNote()">
                                    <span>
                                        <i class="la la-eye"></i>
                                        <span>
                                            Preview
                                        </span>
                                    </span>
                                </button>
                                <button type="button" class="btn btn-success m-btn--square m-btn--icon m-btn--uppercase"
                                    (click)="confirmDuplicatePopup.show()">
                                    <span>
                                        <i class="la la-copy"></i>
                                        <span>
                                            Duplicate
                                        </span>
                                    </span>
                                </button>
                            </ng-container>


                            <app-default-button [buttonSetting]="saveButtonSetting" (onClick)="onSaveBookingNote()">
                            </app-default-button>

                            <app-default-button [buttonSetting]="cancelButtonSetting"
                                (onClick)="confirmCancelPopup.show()">
                            </app-default-button>
                        </div>
                    </div>
                </div>

                <hr />

                <form-booking-note-lcl-export></form-booking-note-lcl-export>

                <div class="row m--margin-top-20">
                    <div class="col-md-4">
                        <span>Created: {{csBookingNote.createdDate | date: 'dd/MM/yyyy HH:mm'}} by </span>
                        <span class="text-success">{{csBookingNote.creatorName}}</span>
                    </div>
                    <div class="col-md-4">
                        <span>Modified: {{csBookingNote.datetimeModified | date: 'dd/MM/yyyy HH:mm'}} by
                        </span> <span class="text-success">{{csBookingNote.modifiedName}}</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<info-popup [body]="invalidFormText"></info-popup>

<confirm-popup #confirmCancelPopup body="Do you want to exit without saving?"
    (onSubmit)="confirmCancelPopup.hide(); gotoList()"></confirm-popup>

<confirm-popup #confirmDuplicatePopup body="Do you want to duplicate this booking note"
    (onSubmit)="confirmDuplicatePopup.hide(); gotoDuplicate()"></confirm-popup>

<ng-container *ngIf="dataReport">
    <app-report-preview [data]="dataReport"></app-report-preview>
</ng-container>