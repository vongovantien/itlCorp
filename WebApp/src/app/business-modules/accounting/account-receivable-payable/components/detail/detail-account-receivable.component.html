<div class="create-commercial-page">
    <app-sub-header> </app-sub-header>

    <div class="m-content">
        <div class="m-portlet">
            <div class="m-portlet__body">
                <div class="d-flex align-items-center justify-content-between p-1">
                    <h3 class="w-75">
                        <ng-container>
                            <h3 class="text-primary">
                                Account Receivable Detail
                            </h3>
                        </ng-container>
                    </h3>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <div class="alert-block__heading font-weight-bold row m-0 pl-0 pr-0">
                            <div class="col-lg-8">
                                <h5><span class="text-success">Customer:</span> 09455656 - UPS VN</h5>
                            </div>

                            <div class="col-lg-4">
                                <span class="collapse-toggle" data-toggle="collapse"
                                    data-target="#acc-receivable-detail">
                                    <i class="la la-angle-up m--margin-right-5 float-right"></i>
                                </span>
                            </div>
                        </div>

                        <div class="row collapse show" id="acc-receivable-detail">
                            <div class="col-lg-12">
                                <div class="row m--margin-top-20">
                                    <div class="col-lg-2">
                                        <div>
                                            <h6>Partner Name (ABBR) </h6>
                                        </div>

                                    </div>
                                    <div class="col-lg-5">
                                        <div>
                                            <h6>UPS VN</h6>
                                        </div>

                                    </div>
                                    <div class="col-lg-1">
                                        <h6>Tax code </h6>
                                    </div>
                                    <div class="col-lg-4">
                                        <h6>09455656</h6>
                                    </div>
                                </div>
                                <div class="row m--margin-top-20">
                                    <div class="col-lg-2">
                                        <div>
                                            <h6>Partner Name (Local) </h6>
                                        </div>

                                    </div>
                                    <div class="col-lg-5">
                                        <div>
                                            <h6>UPS VN</h6>
                                        </div>

                                    </div>
                                    <div class="col-lg-1">
                                        <h6>Status </h6>
                                    </div>
                                    <div class="col-lg-4">
                                        <h6 [ngClass]=" 1  ? 'text-success' : 'text-danger'">
                                            {{ 1 ? "Active":"Inctive"}}
                                        </h6>
                                    </div>
                                </div>
                                <hr />
                                <div class="row m--margin-top-20">
                                    <div class="col-lg-2">
                                        <div class="border border-top-0 border-left-0 border border-bottom-0">
                                            <h6>Agreement No</h6>
                                            <h6 class="my-3">Type</h6>
                                            <h6>Status</h6>
                                        </div>

                                    </div>
                                    <div class="col-lg-2">
                                        <div class="border border-top-0 border-left-0 border border-bottom-0">
                                            <h6>{{ 09456656 }}</h6>
                                            <h6 class="my-3">{{ "Contract - Offical" }}</h6>
                                            <h6 [ngClass]=" 0  ? 'text-success' : 'text-danger'">
                                                {{0 ? "Active":"Inactive"}}
                                            </h6>

                                        </div>

                                    </div>
                                    <div class="col-lg-2">
                                        <div class="border border-top-0 border-left-0 border border-bottom-0">
                                            <h6>Effective Date </h6>
                                            <h6 class="my-3">Expired Date </h6>
                                            <h6>Expired Days </h6>
                                        </div>
                                    </div>
                                    <div class="col-lg-2">
                                        <div class="border border-top-0 border-left-0 border border-bottom-0">
                                            <h6>01/01/2020</h6>
                                            <h6 class="my-3">30/06/2020</h6>
                                            <h6 class="text-danger">{{ 8 }} Days</h6>
                                        </div>
                                    </div>
                                    <div class="col-lg-2">
                                        <div class="border border-top-0 border-left-0 border border-bottom-0">
                                            <h6>Credit limited</h6>
                                            <h6 class="my-3">Credit Term (Days)</h6>
                                            <h6>Credit Rate Limit</h6>
                                        </div>
                                    </div>
                                    <div class="col-lg-2">
                                        <div class="border border-top-0 border-left-0 border border-bottom-0">
                                            <h6>{{ 1000000000 | number: '.0-3'}} VND</h6>
                                            <h6 class="my-3">{{ 30 }} Days</h6>
                                            <h6 class="text-success">{{ 120 }} %</h6>
                                        </div>
                                    </div>
                                </div>
                                <hr />
                                <div class="row m--margin-top-20">
                                    <div class="col-lg-2">
                                        <div class="border border-top-0 border-left-0 border border-bottom-0">
                                            <h6>Debit Amount</h6>
                                            <h6 class="my-3">OBH Amount</h6>
                                            <h6 class="mb-3">Debit Rate (%)</h6>
                                            <h6>Cus Advance</h6>
                                        </div>

                                    </div>
                                    <div class="col-lg-2">
                                        <div class="border border-top-0 border-left-0 border border-bottom-0">
                                            <h6>{{ 1200000000 | number: '.0-3'}} VND</h6>
                                            <h6 class="my-3">{{200000000 | number: '.0-3'}} VND</h6>
                                            <h6
                                                [ngClass]=" 120 < 70  ? 'text-success' : 120 >= 100 ? 'text-danger' : '.text-warning'">
                                                {{ 120 }} %
                                            </h6>
                                            <h6 class="mt-3">{{ 10000000 | number: '.0-3'}} VND</h6>
                                        </div>

                                    </div>
                                    <div class="col-lg-2">
                                        <div class="border border-top-0 border-left-0 border border-bottom-0">
                                            <h6>Billing </h6>
                                            <h6 class="my-3">Billing Unpaid </h6>
                                            <h6>Paid </h6>
                                            <h6 class="mt-3">Credit Amount</h6>
                                        </div>
                                    </div>
                                    <div class="col-lg-2">
                                        <div class="border border-top-0 border-left-0 border border-bottom-0">
                                            <h6>{{ 900000000 | number: '.0-3'}} VND</h6>
                                            <h6 class="my-3">{{ 800000000 | number: '.0-3'}} VND</h6>
                                            <h6><span class="text-danger">{{ 100000000 | number: '.0-3'}}</span> VND
                                            </h6>
                                            <h6 class="mt-3"><span
                                                    class="text-primary">{{ 100000000 | number: '.0-3'}}</span> VND</h6>
                                        </div>
                                    </div>
                                    <div class="col-lg-2">
                                        <div class="border border-top-0 border-left-0 border border-bottom-0">
                                            <h6>Over 1-15 days</h6>
                                            <h6 class="my-3">Over 16-30 days</h6>
                                            <h6>Over 30 days</h6>
                                        </div>
                                    </div>
                                    <div class="col-lg-2">
                                        <div class="border border-top-0 border-left-0 border border-bottom-0">
                                            <h6><span class="text-danger">{{ 400000000 | number: '.0-3' }}</span> VND
                                            </h6>
                                            <h6 class="my-3"><span
                                                    class="text-danger">{{ 300000000 | number: '.0-3'}}</span> VND</h6>
                                            <h6><span class="text-danger">{{ 100000000 | number: '.0-3'}}</span> VND
                                            </h6>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row m--margin-top-20">
                    <div class="col-lg-12">
                        <div class="alert-block__heading font-weight-bold row m-0 pl-0 pr-0">
                            <div class="col-lg-12">
                                <h5>More Detail</h5>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-12 m--margin-top-20">
                                <div class="table-wrapper table-scrollable" id="obh-payment-table">
                                    <table class="table table-hover table-brand dataTable table-hover">
                                        <thead app-table-header [headers]="headers"
                                            (onClick)="sortBy($event.sortField)">
                                            <th class="m--w-50 first table-actions-col">
                                                Action
                                            </th>
                                        </thead>
                                        <tbody>
                                            <ng-container>
                                                <ng-container
                                                    *ngFor="let item of seedData; let i = index; trackBy: trackByFn">
                                                    <tr class="collapse-toggle-row">
                                                        <td class="table-actions-col">
                                                            <div class="table-actions" style="width: 100px">
                                                                <button type="button"
                                                                    class="btn btn-sm m-btn--square m-btn--icon m-btn--icon-only collapsed"
                                                                    data-toggle="collapse"
                                                                    [attr.data-target]="'#id-00' + (i+1)"
                                                                    title="Collapse">
                                                                    <i class="la la-angle-up"></i>
                                                                </button>
                                                            </div>
                                                        </td>

                                                        <td>{{ item.office}}</td>
                                                        <td>{{ item.debitAmount| number: '.0-3' }}</td>

                                                        <td>{{ item.billing | number: '.0-3'}}
                                                        </td>
                                                        <td>{{ item.billingUnpaid | number: '.0-3'}}</td>
                                                        <td>{{ item.paid | number: '.0-3'}}</td>
                                                        <td>{{ item.obhAmount | number: '.0-3'}}</td>
                                                        <td>
                                                            <span [ngClass]="'text-danger'">
                                                                {{ item.between1_15days | number: '.0-3' }}
                                                            </span>
                                                        </td>
                                                        <td>
                                                            <span [ngClass]="'text-danger'">
                                                                {{ item.between16_30days | number: '.0-3' }}
                                                            </span>
                                                        </td>
                                                        <td>
                                                            <span [ngClass]="'text-danger'">
                                                                {{ item.over30days | number: '.0-3' }}
                                                            </span>
                                                        </td>

                                                    </tr>
                                                    <tr class="collapse-panel-row" app-table-collapse-row
                                                        [id]="'id-00' + (i + 1)" [parentId]="'#obh-payment-table'">
                                                        <table class="table table-secondary dataTable">
                                                            <thead app-table-header [headers]="subHeaders"
                                                                (onClick)="sortDetailGuaranteed($event.sortField, $event.order)">

                                                            </thead>
                                                            <tbody>
                                                                <ng-container>
                                                                    <tr
                                                                        *ngFor="let element of subSeedData; let j = index; trackBy: trackByFn">


                                                                        <td>{{ element.service  }}
                                                                        </td>
                                                                        <td>{{ element.creditAmount | number: '.0-3'}}
                                                                        </td>

                                                                        <td>{{ element.billing | number: '.0-3'}}
                                                                        </td>
                                                                        <td>{{ element.billingUnpaid | number: '.0-3'}}
                                                                        </td>
                                                                        <td>{{ element.paid | number: '.0-3' }}</td>
                                                                        <td>{{ element.obhAmount | number: '.0-3' }}
                                                                        </td>
                                                                        <td>
                                                                            <span [ngClass]="'text-danger'">
                                                                                {{ element.between1_15days | number: '.0-3' }}
                                                                            </span>
                                                                        </td>
                                                                        <td>
                                                                            <span [ngClass]="'text-danger'">
                                                                                {{ element.between16_30days | number: '.0-3' }}
                                                                            </span>
                                                                        </td>
                                                                        <td>
                                                                            <span [ngClass]="'text-danger'">
                                                                                {{ element.over30days | number: '.0-3' }}
                                                                            </span>
                                                                        </td>

                                                                    </tr>
                                                                </ng-container>
                                                                <tr app-table-none-record *ngIf="!subSeedData.length">
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </tr>


                                                </ng-container>
                                            </ng-container>
                                            <tr app-table-none-record *ngIf="!seedData.length">
                                            </tr>
                                            <tr app-table-row-loading *ngIf="!seedData.length"></tr>
                                        </tbody>
                                    </table>
                                </div>
                                <app-pagination [total]="totalItems" [pageNum]="page" [itemPerPage]="pageSize"
                                    (onChange)="updatePagingData($event)"></app-pagination>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

        </div>
    </div>