<div class="row font-15">
    <div class="col-lg-12">
        <div class="row m--margin-top-20">
            <div class="col-lg-7">
                <div class="row">
                    <div class="col-lg-4">
                        <h6 class="font-weight-bold">Partner Name (ABBR): </h6>
                    </div>
                    <div class="col-lg-8">
                        <span class="text-info">{{accReceivableDetail.partnerNameAbbr}}</span>
                        <span *ngIf="accReceivableDetail.partnerId">
                            <a target="_blank" class="la la-link text-primary m--margin-left-10"
                                title="Click to view detail partner"
                                [routerLink]="[ '/home/catalogue/partner-data/detail', accReceivableDetail.partnerId ]">
                            </a>
                        </span>
                    </div>
                </div>
            </div>
            <div class="col-lg-5">
                <div class="row">
                    <div class="col-lg-3">
                        <h6 class="font-weight-bold">Tax Code: </h6>
                    </div>
                    <div class="col-lg-9">
                        <span class="text-info">{{accReceivableDetail.taxCode}}</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="row m--margin-top-20">
            <div class="col-lg-7">
                <div class="row">
                    <div class="col-lg-4">
                        <h6 class="font-weight-bold">Partner Name (Local): </h6>
                    </div>
                    <div class="col-lg-8">
                        <span class="text-info">{{accReceivableDetail.partnerNameLocal}}</span>
                    </div>
                </div>
            </div>
            <div class="col-lg-5">
                <div class="row">
                    <div class="col-lg-3">
                        <h6 class="font-weight-bold">Status: </h6>
                    </div>
                    <div class="col-lg-9">
                        <span class="badge"
                            [ngClass]=" accReceivableDetail.partnerStatus === 'Active'  ? 'badge-success' : 'badge-danger'">
                            {{accReceivableDetail.partnerStatus}}
                        </span>
                    </div>
                </div>
            </div>
        </div>
        <hr />

        <div class="row m--margin-top-5">
            <div class="col-lg-4">
                <div class="row">
                    <div class="col-lg-5">
                        <h6 class="font-weight-bold">Agreement No:</h6>
                    </div>
                    <div class="col-lg-7">
                        {{ accReceivableDetail.agreementNo }}
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="row">
                    <div class="col-lg-5">
                        <h6 class="font-weight-bold">
                            {{accReceivableDetail.agreementType === "Guarantee" ?
                            "Salesman:" :"Effective Date:"}}
                        </h6>
                    </div>
                    <div class="col-lg-7">
                        <div>{{accReceivableDetail.agreementType === "Guarantee" ?
                            accReceivableDetail.agreementSalesmanName
                            : (accReceivableDetail.effectiveDate | date: 'dd/MM/yyyy')}}
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="row">
                    <div class="col-lg-6">
                        <h6 class="font-weight-bold">
                            {{accReceivableDetail.agreementType === "Guarantee"
                            ? "Credit Limit Rate:" :"Credit Limited:"}}
                        </h6>
                    </div>
                    <div class="col-lg-6">
                        <div [ngClass]="accReceivableDetail.agreementType === 'Guarantee' ? 'text-success': null ">
                            {{ accReceivableDetail.agreementType === "Guarantee" ?
                            accReceivableDetail.creditRateLimit :
                            accReceivableDetail.creditLimited | number: '.0-3'}}
                            <span
                                *ngIf="(accReceivableDetail.creditLimited && accReceivableDetail.agreementType !== 'Guarantee' )||
                                    (accReceivableDetail.creditRateLimit && accReceivableDetail.agreementType === 'Guarantee')">
                                {{ accReceivableDetail.agreementType === "Guarantee" ? "%"
                                : accReceivableDetail.agreementCurrency }}
                            </span>
                            <span *ngIf="!!accReceivableDetail.isOverLimit" title="Contract is over credit limit">
                                <i class="la la-exclamation la-lg text-danger m-animate-blink"></i>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row m--margin-top-5">
            <div class="col-lg-4">
                <div class="row">
                    <div class="col-lg-5">
                        <h6 class="font-weight-bold">Type:</h6>
                    </div>
                    <div class="col-lg-7" *ngIf="!!accReceivableDetail.agreementType">
                        <span class="badge"
                            [ngClass]="accReceivableDetail.agreementType === 'Trial' ? 'badge-warning' : 'badge-info'">
                            {{ accReceivableDetail.agreementType }}
                        </span>
                        <span class="m--margin-left-10 badge"
                            [ngClass]=" accReceivableDetail.agreementStatus === 'Active'  ? 'badge-success' : 'badge-danger'">
                            {{accReceivableDetail.agreementStatus}}
                        </span>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="row">
                    <div class="col-lg-5">
                        <h6 class="font-weight-bold">
                            {{accReceivableDetail.agreementType === "Guarantee"
                            ? "Sales Credit Limited:" :"Expired Date:"}}
                        </h6>
                    </div>
                    <div class="col-lg-7">
                        <div>
                            {{accReceivableDetail.agreementType === "Guarantee" ?
                            (accReceivableDetail.saleCreditLimited | number: '.0-3')
                            : (accReceivableDetail.expriedDate | date: 'dd/MM/yyyy')}}
                            <span
                                *ngIf="(accReceivableDetail.agreementType === 'Guarantee' && accReceivableDetail.saleCreditLimited)">
                                {{accReceivableDetail.agreementCurrency}}
                            </span>
                            <span *ngIf="accReceivableDetail.isExpired">
                                <i class="la la-history la-lg"></i>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="row">
                    <div class="col-lg-6">
                        <h6 class="font-weight-bold">
                            {{accReceivableDetail.agreementType === "Guarantee"
                            ? "Sales Debit Amount:" :"Credit Term (Days):"}}
                        </h6>
                    </div>
                    <div class="col-lg-6">
                        <div>
                            {{ accReceivableDetail.agreementType === "Guarantee" ?
                            (accReceivableDetail.saleDebitAmount | number: '.0-3')
                            : accReceivableDetail.creditTerm }}
                            <span
                                *ngIf="(accReceivableDetail.creditTerm && accReceivableDetail.agreementType !== 'Guarantee' )||
                                    (accReceivableDetail.saleDebitAmount && accReceivableDetail.agreementType === 'Guarantee') ">
                                {{accReceivableDetail.agreementType === "Guarantee" ?
                                accReceivableDetail.agreementCurrency : "days"}}
                            </span>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row m--margin-top-5">
            <div class="col-lg-4">
                <div class="row">
                    <div class="col-lg-5">
                        <h6 class="font-weight-bold">Salesman:</h6>

                    </div>
                    <div class="col-lg-7 text-success text-uppercase ">
                        {{ accReceivableDetail.agreementSalesmanName !== null ?
                        accReceivableDetail.agreementSalesmanName : accReceivableDetail.arSalesmanName }}
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="row">
                    <div class="col-lg-5">
                        <h6 class="font-weight-bold">
                            {{accReceivableDetail.agreementType === "Guarantee"
                            ? "Credit Term (Days):" :"Expired Days:"}}
                        </h6>
                    </div>
                    <div class="col-lg-7">
                        <div [ngClass]="accReceivableDetail.agreementType === 'Guarantee' ? null : ( accReceivableDetail.expriedDay < 30 ? 'text-warning' 
                            : accReceivableDetail.expriedDay < 0 ? 'text-danger' : 'text-success')">
                            {{ accReceivableDetail.agreementType === "Guarantee" ?
                            accReceivableDetail.creditTerm
                            : accReceivableDetail.expriedDay }}
                            <span *ngIf="(accReceivableDetail.expriedDay && accReceivableDetail.agreementType !== 'Guarantee') ||
                                (accReceivableDetail.creditTerm && accReceivableDetail.agreementType === 'Guarantee')">
                                days</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="row">
                    <div class="col-lg-6">
                        <h6 class="font-weight-bold">
                            {{accReceivableDetail.agreementType === "Guarantee"
                            ? "Sales Debit Rate:" :"Credit Rate Limit:"}}
                        </h6>
                    </div>
                    <div class="col-lg-6">
                        <div
                            [ngClass]="accReceivableDetail.agreementType === 'Guarantee' ? 'text-danger' : 'text-success' ">
                            {{ accReceivableDetail.agreementType === "Guarantee" ?
                            (accReceivableDetail.saleDebitRate | number: '.0-3')
                            : (accReceivableDetail.creditRateLimit | number: '.0-3') }}
                            <span
                                *ngIf="(accReceivableDetail.creditRateLimit && accReceivableDetail.agreementType !== 'Guarantee') ||
                                    (accReceivableDetail.saleDebitRate && accReceivableDetail.agreementType === 'Guarantee')">
                                %
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <hr />

        <!--Debit Info Section-->
        <div class="row m--margin-top-20">
            <div class="col-lg-4">
                <div class="row">
                    <div class="col-lg-5">
                        <h6 class="font-weight-bold">Debit Amount:</h6>
                    </div>
                    <div class="col-lg-7">
                        <div>{{ accReceivableDetail.debitAmount | number: '.0-3'}}
                            <span *ngIf="accReceivableDetail.debitAmount">
                                {{ accReceivableDetail.arCurrency }}
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="row">
                    <div class="col-lg-5">
                        <h6 class="font-weight-bold">Billing (Unpaid): </h6>
                    </div>
                    <div class="col-lg-7">
                        <div>{{ (accReceivableDetail.billingAmount +
                            accReceivableDetail.obhBillingAmount) | number: '.0-3'}}
                            <span *ngIf="accReceivableDetail.billingAmount">
                                {{ accReceivableDetail.arCurrency }}
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="row">
                    <div class="col-lg-6">
                        <h6 class="font-weight-bold">Over 1-15 days:</h6>

                    </div>
                    <div class="col-lg-6">
                        <span [ngClass]="!!accReceivableDetail.over1To15Day ? 'text-warning' : 'text-primary'">{{
                            accReceivableDetail.over1To15Day |
                            number: '.0-3' }}</span>
                        <span *ngIf="accReceivableDetail.over1To15Day">
                            {{ accReceivableDetail.arCurrency }}
                        </span>
                    </div>
                </div>
            </div>
        </div>
        <div class="row m--margin-top-5">
            <div class="col-lg-4">
                <div class="row">
                    <div class="col-lg-5">
                        <h6 class="font-weight-bold">OBH Amount:</h6>
                    </div>
                    <div class="col-lg-7">
                        <div>{{ accReceivableDetail.obhAmount | number: '.0-3'}}
                            <span *ngIf="accReceivableDetail.obhAmount">
                                {{ accReceivableDetail.arCurrency }}
                            </span>
                            <span *ngIf="!!accReceivableDetail.isOverDueOBH"
                                class="loader-container m--margin-top-10 m-animate-blink">
                                <img src="assets/icons/overdue-obh.ico" style="vertical-align:text-bottom" width="25"
                                    height="25" alt="Contract have overdue OBH">
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="row">
                    <div class="col-lg-5">
                        <h6 class="font-weight-bold">OutStanding:</h6>
                    </div>
                    <div class="col-lg-7">
                        <div>{{ (accReceivableDetail.billingUnpaid + accReceivableDetail.obhUnPaidAmount) | number:
                            '.0-3'}}
                            <span *ngIf="accReceivableDetail.billingUnpaid">
                                {{ accReceivableDetail.arCurrency }}
                            </span>

                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="row">
                    <div class="col-lg-6">
                        <h6 class="font-weight-bold">Over 16-30 days:</h6>
                    </div>
                    <div class="col-lg-6">
                        <span [ngClass]="!!accReceivableDetail.over16To30Day ? 'text-warning' : 'text-primary'">{{
                            accReceivableDetail.over16To30Day
                            | number: '.0-3'}}</span>
                        <span *ngIf="accReceivableDetail.over16To30Day">
                            {{ accReceivableDetail.arCurrency }}
                        </span>
                    </div>
                </div>
            </div>
        </div>
        <div class="row m--margin-top-5">
            <div class="col-lg-4">
                <div class="row">
                    <div class="col-lg-5">
                        <h6 class="font-weight-bold">Debit Rate (%):</h6>
                    </div>
                    <div class="col-lg-7">
                        <div>
                            <span
                                [ngClass]="accReceivableDetail.debitRate < 70 ? 'text-success' : accReceivableDetail.debitRate < 100 ? 'text-warning':'text-danger'">
                                {{ accReceivableDetail.debitRate | number: '.0-3'}}
                            </span>
                            <span *ngIf="accReceivableDetail.debitRate !== null">
                                %
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="row">
                    <div class="col-lg-5">
                        <h6 class="font-weight-bold">Paid: </h6>
                    </div>
                    <div class="col-lg-7">
                        <div><span class="text-success">{{ (accReceivableDetail.paidAmount +
                                accReceivableDetail.obhPaidAmount) |
                                number: '.0-3'}}</span>
                            <span *ngIf="accReceivableDetail.paidAmount">
                                {{ accReceivableDetail.arCurrency }}
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="row">
                    <div class="col-lg-6">
                        <h6 class="font-weight-bold">Over 30 days:</h6>
                    </div>
                    <div class="col-lg-6">
                        <span class="text-danger">{{ accReceivableDetail.over30Day |
                            number: '.0-3'}}</span>
                        <span *ngIf="accReceivableDetail.over30Day">
                            {{ accReceivableDetail.arCurrency }}
                            <span *ngIf="!!accReceivableDetail.isOverDue" title="Contract have overdued">
                                <i class="la la-exclamation-triangle la-lg text-warning m-animate-blink"></i>
                            </span>
                        </span>

                    </div>
                </div>
            </div>

        </div>
        <div class="row m--margin-top-5">
            <div class="col-lg-4">
                <div class="row">
                    <div class="col-lg-5">
                        <h6 class="font-weight-bold">Cus Advance:</h6>
                    </div>
                    <div class="col-lg-7">
                        <ng-container *ngIf="accReceivableDetail.arCurrency === 'VND'; else cusUsdTpl">
                            <div>{{ accReceivableDetail.cusAdvanceVnd | number: '.0-3'}}
                                <span *ngIf="accReceivableDetail.cusAdvanceVnd">
                                    {{ accReceivableDetail.arCurrency }}
                                </span>
                            </div>
                        </ng-container>
                        <ng-template #cusUsdTpl>
                            <div>{{ accReceivableDetail.cusAdvanceUsd | number: '.0-2'}}
                                <span *ngIf="accReceivableDetail.cusAdvanceUsd">
                                    {{ accReceivableDetail.arCurrency }}
                                </span>
                            </div>
                        </ng-template>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="row">
                    <div class="col-lg-5">
                        <h6 class="font-weight-bold">Over Amount:</h6>
                    </div>
                    <div class="col-lg-7">
                        <ng-container [ngSwitch]="accReceivableDetail.agreementType">
                            <ng-container *ngSwitchCase="'Guarantee'">
                                <div
                                    *ngIf="accReceivableDetail.saleDebitAmount - accReceivableDetail.saleCreditLimited > 0; else none">
                                    <span class="text-danger">
                                        {{
                                        (accReceivableDetail.saleDebitAmount -
                                        accReceivableDetail.saleCreditLimited)| number: '.0-3'
                                        }}
                                    </span>
                                    {{ accReceivableDetail.arCurrency }}

                                </div>
                            </ng-container>
                            <ng-container *ngSwitchDefault>
                                <div
                                    *ngIf="accReceivableDetail.debitAmount -  accReceivableDetail.creditLimited > 0; else none">
                                    <span class="text-danger">
                                        {{
                                        (accReceivableDetail.debitAmount -
                                        accReceivableDetail.creditLimited)| number: '.0-3'
                                        }}
                                    </span>
                                    {{ accReceivableDetail.arCurrency }}
                                </div>
                            </ng-container>
                        </ng-container>

                        <ng-template #none>
                            <span class="text-success">0</span>
                        </ng-template>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>