<div class="search-box-soa">
    <div class="row">
        <div class="col-lg-4">
            <div class="form-group">
                <label class="form-control-label" for="">
                    Reference No
                </label>
                <textarea class="form-control m-input m-input--square" [(ngModel)]="reference" name="reference"
                    rows="6"></textarea>
            </div>
        </div>
        <div class="col-lg-8">
            <div class="row">
                <div class="col-lg-4">
                    <div class="form-group">
                        <label class="form-control-label" for="">
                            Partner
                        </label>
                        <app-combo-grid-virtual-scroll [currentActiveItemId]="selectedPartner"
                            (itemSelected)="onSelectDataFormSearch($event, 'partner')"
                            [selectedDisplayFields]="configPartner.selectedDisplayFields"
                            [dataSources]="configPartner.dataSource" [displayFields]="configPartner.displayFields"
                            [height]="200">
                        </app-combo-grid-virtual-scroll>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <label class="form-control-label" for="">
                            Issued Date
                        </label>
                        <div class="m-input-icon m-input-icon--right down daterange-rtl">
                            <input type="text" class="form-control m-input m-input--square" ngxDaterangepickerMd
                                [locale]="{applyLabel: 'apply', format: 'DD/MM/YYYY'}" [(ngModel)]="selectedRange"
                                [ranges]="ranges" [maxDate]="maxDate" [alwaysShowCalendars]="true" name="daterange"
                                [allowRemove]="!!selectedRange && !!selectedRange.startDate"
                                (remove)="resetDate()"
                                placeholder="From date - to date" readonly />
                            <span class="m-input-icon__icon m-input-icon__icon--right">
                                <span>
                                    <i class="la la-calendar"></i>
                                </span>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <label class="form-control-label" for="">
                            Status
                        </label>
                        <select class="form-control" [(ngModel)]="selectedStatus" name="status"
                            (ngModelChange)="onSelectDataFormSearch($event, 'status')">
                            <option value="null">All</option>
                            <option *ngFor="let status of statusSOA" [ngValue]="status">{{status.title}}</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-4">
                    <div class="form-group">
                        <label class="form-control-label" for="">
                            Currency
                        </label>
                        <select class="form-control" [(ngModel)]="selectedCurrency" name="currency"
                            (ngModelChange)="onSelectDataFormSearch($event, 'currency')">
                            <option [ngValue]="null">All</option>
                            <option *ngFor="let currency of currencyList" [ngValue]="currency">{{currency.id}}</option>
                        </select>
                    </div>
                </div>
                <!-- <div class="col-lg-4">
                    <div class="form-group">
                        <label class="form-control-label" for="">
                            Office
                        </label>
                        <ng-select [allowClear]="true" [items]="items" (data)="refreshValue($event)"
                            (selected)="selected($event)" (removed)="removed($event)" (typed)="typed($event)"
                            placeholder="Select filter">
                        </ng-select>
                    </div>
                </div> -->
                <div class="col-lg-4">
                    <div class="form-group">
                        <label class="form-control-label" for="">
                            Personal Handle
                        </label>
                        <!-- <select class="form-control" [(ngModel)]="currentUser" name="user"
                            (ngModelChange)="onSelectDataFormSearch($event, 'user')">
                            <option [ngValue]="null">All</option>
                            <option *ngFor="let user of users" [ngValue]="user">{{user.username}}</option>
                        </select> -->
                        <app-combo-grid-virtual-scroll
                            (itemSelected)="onSelectDataFormSearch($event,'user')"
                            [currentActiveItemId]="{ field: 'id', value: currentUser}"
                            [selectedDisplayFields]="['username']" [dataSources]="users"
                            [displayFields]="[{field: 'username', label: 'User Name'}, { field: 'employeeNameVn', label: 'Full Name' }]"
                            placeholder="Select Personal Handle" [height]="200" size="15"
                            (remove)="resetPersonalHandle()">
                        </app-combo-grid-virtual-scroll>

                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="form-actions">
        <div class="row">
            <div class="col-lg-6"></div>
            <div class="col-lg-6 m--align-right">
                <button type="button" class="btn btn-brand  m-btn--icon m-btn--uppercase" (click)="search()">
                    <span>
                        <i class="la la-search"></i>
                        <span>
                            Search
                        </span>
                    </span>
                </button>
                <button type="button" class="btn btn-default  m-btn--icon m-btn--uppercase" (click)="reset()">
                    <span>
                        <i class="la la-refresh"></i>
                        <span>
                            Reset
                        </span>
                    </span>
                </button>
            </div>
        </div>
    </div>
</div>